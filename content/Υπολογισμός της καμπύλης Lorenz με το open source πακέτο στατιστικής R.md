---
Title: Υπολογισμός της καμπύλης Lorenz με το open source πακέτο στατιστικής R
Date: 2013-10-09 00:10
Category: Διάφορα
Tags: lawstat , R , καμπύλη Lorenz
---


Ένα από τα μέτρα συγκέντρωσης για την εκτίμηση των περιφερειακών ανισοτήτων είναι η καμπύλη Lorenz.
Για την εφαρμογή της καμπύλης Lorenz (Παπαδασκαλόπουλος, 2000), οι επιμέρους γεωγραφικές περιοχές με την έκταση και τον αντίστοιχο πληθυσμό τους, ταξινομούνται κατά φθίνουσα σειρά της πυκνότητας αυτών, και κάθε μιας των δυο τούτων στηλών, της εκτάσεως και του πληθυσμού, υπολογίζεται η ποσοστιαία  κατανομή, καθώς και η αθροιστική σειρά των ποσοστιαίων τούτων αναλογιών. Στη συνέχεια σε σύστημα ορθογώνιων συντεταγμένων χαράσσεται η γραφική παράσταση της καμπύλης Lorenz, στην οποία ο μεν άξονας των τετμημένων μετρά την αθροιστική σειρά της ποσοστιαίας κατανομής του πληθυσμού, ο δε άξονας των τεταγμένων της αθροιστική σειρά της ποσοστιαίας κατανομής της εκτάσεως και εντοπίζονται τα σημεία της αντιστοιχίας των αθροιστικών σειρών (%) εκτάσεως και πληθυσμού, τα οποία σχηματίζουν πολυγωνική γραμμή ο (καλούμενη καμπύλη Lorenz), φέρεται δε και η διαγώνιος (45ο), καλούμενη διαγώνιος ισοκατανομής. 

![]({static}images/Economics_Gini_coefficient2.png)


Στην απεικόνιση αυτή παρατηρούνται τα εξής:

1. αν ο πληθυσμός ήταν ομοιομόρφως κατανεμημένος σε όλες τις επιμέρους περιοχές (γεωγραφικά διαμερίσματα), η αθροιστική καμπύλη του πληθυσμού θα ακολουθούσε τη διαγώνιο γραμμή της αθροιστικής σειράς των περιοχών (διαγώνιος ισοκατανομής).
2. εάν, αντιθέτως ο πληθυσμός ήταν κατανεμημένος με την μέγιστη δυνατή ανισότητα, τότε η αθροιστική καμπύλη του πληθυσμού θα συνέπιπτε με τον άξονα των τετμημένων.
3. ο βαθμός συγκεντρώσεως αντιπροσωπεύεται κατ’ ακολουθία από την απόκλιση της καμπύλης μεταξύ των δύο αυτών άκρων.

Στα πλαίσια του τρέχοντος άρθρου και για εκπαιδευτικούς λόγους θα υπολογιστεί η καμπύλη Lorenz για τον νομό Θεσπρωτίας το 2001 με την βοήθεια του στατιστικού πακέτου R.

To R (<http://www.r-project.org/>) είναι ένα υπολογιστικό πακέτο που προσφέρει δυνατότητες διαχείρισης και στατιστικής ανάλυσης δεδομένων καθώς και δυνατότητες κατασκευής γραφημάτων. Βασίζεται στην γλώσσα προγραμματισμού S (που χρησιμοποιεί και το στατιστικό πακέτο S plus) και πρόκειται για λογισμικό ανοικτού κώδικα (open source) που διατίθεται ελεύθερα. [Δείτε περισσότερα σχετικά με το R](https://cran.r-project.org/doc/FAQ/R-FAQ.html#What-is-R_003f)
Φυσικά ο υπολογισμός της καμπύλης αποκτά μεγαλύτερη αξία όταν εκτιμηθεί διαχρονικά και συγκριθεί με αντίστοιχες καμπύλες άλλων περιφερειών ή της χώρας.
Τα σχετικά δεδομένα για τον Ν. Θεσπρωτίας το έτος 2001 είναι αποθηκευμένα σε ένα αρχείο CSV στην ακόλουθη μορφή:


| **ID** 	| **Name**           	| **Population** 	| **Area** 	|
|--------	|--------------------	|----------------	|----------	|
| 320100 	| ΔΗΜΟΣ ΗΓΟΥΜΕΝΙΤΣΗΣ 	| 14710          	| 111.752  	|
| 326100 	| ΚΟΙΝΟΤΗΤΑ ΠΕΡΔΙΚΑΣ 	| 2272           	| 34.605   	|
| 320700 	| ΔΗΜΟΣ ΣΥΒΟΤΩΝ      	| 3010           	| 72.439   	|
| 320200 	| ΔΗΜΟΣ ΑΧΕΡΟΝΤΑ     	| 2344           	| 67.343   	|
| 320500 	| ΔΗΜΟΣ ΠΑΡΑΠΟΤΑΜΟΥ  	| 1668           	| 60.334   	|
| 320600 	| ΔΗΜΟΣ ΣΑΓΙΑΔΑΣ     	| 2160           	| 87.803   	|
| 320400 	| ΔΗΜΟΣ ΠΑΡΑΜΥΘΙΑΣ   	| 7859           	| 342.197  	|
| 320300 	| ΔΗΜΟΣ ΜΑΡΓΑΡΙΤΙΟΥ  	| 3032           	| 149.223  	|
| 320800 	| ΔΗΜΟΣ ΦΙΛΙΑΤΩΝ     	| 8288           	| 495.727  	|
| 326200 	| ΚΟΙΝΟΤΗΤΑ ΣΟΥΛΙΟΥ  	| 748            	| 93.23    	|





Εγκαθιστούμε το R με:

```
sudo apt-get install r-base-core
```


Εκκινούμε το R πληκτρολογώντας στο τερματικό R (αν θέλουμε γραφικό περιβάλλον πληκτρολογούμε R --gui=Tk)
Κατεβάζουμε και εγκαθιστούμε το πακέτο lawstat:
```
install.packages("lawstat")
```

Φορτώνουμε το απαραίτητο πακέτο lawstat με:

```
library(lawstat)
```

Διαβάζουμε τα δεδομένα με την εντολή:

```
Data<-read.table('data.csv', header=TRUE)
```

Στην συνέχεια υπολογίζουμε και αποθηκεύουμε το γράφημα της καμπύλης Lorenz με τις παρακάτω εντολές:

```
png("myplot.png",width=700,height=500)
lorenz.curve(Data[,"Population"], Data[,"Area"])
dev.off()
```

Το αποτέλεσμα των παραπάνω εντολών είναι η καμπύλη Lorenz:

![]({static}images/myplot.png)



Η σχετική εντολή στο R (lorenz.curve), δεν υπολογίζει μόνο την καμπύλη Lorenz αλλά υπολογίζει και διάφορους συντελεστές, (oπως ο συντελεστής Gini), που αναγράφονται στο αριστερό τμήμα εντός του γραφήματος.

Βιβλιογραφία:

* Παπαδασκαλόπουλος, Αθ. (2000) Μέθοδοι Περιφερειακής Ανάλυσης, Παπαζήσης: Αθήνα.
* R-project, Documentation of Lorenz Curve, http://rss.acs.unt.edu/Rdoc/library/lawstat/html/lorenz.curve.html, [Πρόσβαση: 3/09/2010].
* Εθνική Στατιστική Υπηρεσία (ΕΣΥΕ), Απογραφή πληθυσμού 2001. Διαθέσιμο στο: http://www.statistics.gr [Πρόσβαση:10/11/2009]

(*Ο υπολογισμός της καμπύλης Lorenz έγινε στην διανομή Ubuntu 10.04 LTS-Lucid Lynx με την έκδοση R 2.10.1*)


