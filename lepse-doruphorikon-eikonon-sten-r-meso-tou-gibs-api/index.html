<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Λήψη δορυφορικών εικόνων στην R μέσω του GIBS API - Λεωνίδας Λιάκος - Γεωγράφος. Leonidas Liakos - Geographer</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://geographer.gr/lepse-doruphorikon-eikonon-sten-r-meso-tou-gibs-api/">

        <meta name="author" content="Leonidas Liakos" />
        <meta name="keywords" content="API,gdal,gdalUtils,GIBS,R" />
        <meta name="description" content="Η υπηρεσία Global Imagery Browse Services (GIBS) του παρατηρητηρίου Earth Observing System Data and Information System (EOSDIS) παρέχει δορυφορικές εικόνες πλήρους ανάλυσης σε παγκόσμιο επίπεδο. Η υπηρεσία παρέχει πρόσβαση σε 600 και πλέον προϊόντα δορυφορικών εικόνων τα οποία στην πλειονότητά τους είναι διαθέσιμα με χρονική υστέρηση λίγων ωρών από την …" />

        <meta property="og:site_name" content="Λεωνίδας Λιάκος - Γεωγράφος. Leonidas Liakos - Geographer" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Λήψη δορυφορικών εικόνων στην R μέσω του GIBS API"/>
        <meta property="og:url" content="https://geographer.gr/lepse-doruphorikon-eikonon-sten-r-meso-tou-gibs-api/"/>
        <meta property="og:description" content="Η υπηρεσία Global Imagery Browse Services (GIBS) του παρατηρητηρίου Earth Observing System Data and Information System (EOSDIS) παρέχει δορυφορικές εικόνες πλήρους ανάλυσης σε παγκόσμιο επίπεδο. Η υπηρεσία παρέχει πρόσβαση σε 600 και πλέον προϊόντα δορυφορικών εικόνων τα οποία στην πλειονότητά τους είναι διαθέσιμα με χρονική υστέρηση λίγων ωρών από την …"/>
        <meta property="article:published_time" content="2017-11-19" />
            <meta property="article:section" content="GIS" />
            <meta property="article:tag" content="API" />
            <meta property="article:tag" content="gdal" />
            <meta property="article:tag" content="gdalUtils" />
            <meta property="article:tag" content="GIBS" />
            <meta property="article:tag" content="R" />
            <meta property="article:author" content="Leonidas Liakos" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://geographer.gr/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="https://geographer.gr/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://geographer.gr/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="https://geographer.gr/theme/css/style.css" type="text/css"/>

        <link href="https://geographer.gr/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Λεωνίδας Λιάκος - Γεωγράφος. Leonidas Liakos - Geographer ATOM Feed"/>

        <link href="https://geographer.gr/feeds/gis.atom.xml" type="application/atom+xml" rel="alternate"
              title="Λεωνίδας Λιάκος - Γεωγράφος. Leonidas Liakos - Geographer GIS ATOM Feed"/>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JBQR7NZ4PE"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', G-JBQR7NZ4PE);
    </script>
    <!-- End Google Analytics Code -->
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','');</script>
    <!-- End Google Tag Manager -->

</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://geographer.gr/" class="navbar-brand">
Λεωνίδας Λιάκος - Γεωγράφος. Leonidas Liakos - Geographer            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="https://geographer.gr/about-me/">
                             About me
                          </a></li>
                         <li><a href="https://geographer.gr/pages/contact-greek.html">
                             Επικοινωνία
                          </a></li>
                         <li><a href="https://geographer.gr/οι-χάρτες-μου/">
                             Οι χάρτες μου
                          </a></li>
                        <li >
                            <a href="https://geographer.gr/category/demosieuseis.html">Δημοσιεύσεις</a>
                        </li>
                        <li class="active">
                            <a href="https://geographer.gr/category/gis.html">Gis</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<!-- Banner -->
<style>
	#banner{
	    background-image:url("https://geographer.gr/../extra/header_left_bg.png");
	}
</style>

<div id="banner">
	<div class="container">
<!-- 		<div class="copy">
			<h1>Λεωνίδας Λιάκος - Γεωγράφος. Leonidas Liakos - Geographer</h1>
				<p class="intro">This is my subtitle</p>
		</div>
 -->	</div>
</div><!-- End Banner -->

<!-- Content Container -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
            <ol class="breadcrumb">
                <li><a href="https://geographer.gr" title="Λεωνίδας Λιάκος - Γεωγράφος. Leonidas Liakos - Geographer"><i class="fa fa-home fa-lg"></i></a></li>
                <li><a href="https://geographer.gr/category/gis.html" title="GIS">GIS</a></li>
                <li class="active">Λήψη δορυφορικών εικόνων στην R μέσω του GIBS API</li>
            </ol>


<section>
  <p id="post-share-links">
    <b>Share on:</b>
    <a href="https://sharetodiaspora.github.io/?title=%CE%9B%CE%AE%CF%88%CE%B7%20%CE%B4%CE%BF%CF%81%CF%85%CF%86%CE%BF%CF%81%CE%B9%CE%BA%CF%8E%CE%BD%20%CE%B5%CE%B9%CE%BA%CF%8C%CE%BD%CF%89%CE%BD%20%CF%83%CF%84%CE%B7%CE%BD%20R%20%CE%BC%CE%AD%CF%83%CF%89%20%CF%84%CE%BF%CF%85%20GIBS%20API&url=https%3A//geographer.gr/lepse-doruphorikon-eikonon-sten-r-meso-tou-gibs-api/" title="Share on Diaspora">Diaspora*</a>
    ❄
    <a href="https://twitter.com/intent/tweet?text=%CE%9B%CE%AE%CF%88%CE%B7%20%CE%B4%CE%BF%CF%81%CF%85%CF%86%CE%BF%CF%81%CE%B9%CE%BA%CF%8E%CE%BD%20%CE%B5%CE%B9%CE%BA%CF%8C%CE%BD%CF%89%CE%BD%20%CF%83%CF%84%CE%B7%CE%BD%20R%20%CE%BC%CE%AD%CF%83%CF%89%20%CF%84%CE%BF%CF%85%20GIBS%20API&url=https%3A//geographer.gr/lepse-doruphorikon-eikonon-sten-r-meso-tou-gibs-api/&hashtags=api,gdal,gdalutils,gibs,r" title="Share on Twitter">Twitter</a>
    ❄
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//geographer.gr/lepse-doruphorikon-eikonon-sten-r-meso-tou-gibs-api/" title="Share on Facebook">Facebook</a>
    ❄
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A//geographer.gr/lepse-doruphorikon-eikonon-sten-r-meso-tou-gibs-api/&title=%CE%9B%CE%AE%CF%88%CE%B7%20%CE%B4%CE%BF%CF%81%CF%85%CF%86%CE%BF%CF%81%CE%B9%CE%BA%CF%8E%CE%BD%20%CE%B5%CE%B9%CE%BA%CF%8C%CE%BD%CF%89%CE%BD%20%CF%83%CF%84%CE%B7%CE%BD%20R%20%CE%BC%CE%AD%CF%83%CF%89%20%CF%84%CE%BF%CF%85%20GIBS%20API&summary=%CE%97%20%CF%85%CF%80%CE%B7%CF%81%CE%B5%CF%83%CE%AF%CE%B1%20Global%0AImagery%20Browse%20Services%20%28GIBS%29%20%CF%84%CE%BF%CF%85%20%CF%80%CE%B1%CF%81%CE%B1%CF%84%CE%B7%CF%81%CE%B7%CF%84%CE%B7%CF%81%CE%AF%CE%BF%CF%85%20Earth%20Observing%20System%20Data%20and%0AInformation%20System%20%28EOSDIS%29%20%CF%80%CE%B1%CF%81%CE%AD%CF%87%CE%B5%CE%B9%20%CE%B4%CE%BF%CF%81%CF%85%CF%86%CE%BF%CF%81%CE%B9%CE%BA%CE%AD%CF%82%20%CE%B5%CE%B9%CE%BA%CF%8C%CE%BD%CE%B5%CF%82%20%CF%80%CE%BB%CE%AE%CF%81%CE%BF%CF%85%CF%82%0A%CE%B1%CE%BD%CE%AC%CE%BB%CF%85%CF%83%CE%B7%CF%82%20%CF%83%CE%B5%20%CF%80%CE%B1%CE%B3%CE%BA%CF%8C%CF%83%CE%BC%CE%B9%CE%BF%20%CE%B5%CF%80%CE%AF%CF%80%CE%B5%CE%B4%CE%BF.%20%CE%97%20%CF%85%CF%80%CE%B7%CF%81%CE%B5%CF%83%CE%AF%CE%B1%20%CF%80%CE%B1%CF%81%CE%AD%CF%87%CE%B5%CE%B9%20%CF%80%CF%81%CF%8C%CF%83%CE%B2%CE%B1%CF%83%CE%B7%20%CF%83%CE%B5%20600%20%CE%BA%CE%B1%CE%B9%0A%CF%80%CE%BB%CE%AD%CE%BF%CE%BD%20%CF%80%CF%81%CE%BF%CF%8A%CF%8C%CE%BD%CF%84%CE%B1%20%CE%B4%CE%BF%CF%81%CF%85%CF%86%CE%BF%CF%81%CE%B9%CE%BA%CF%8E%CE%BD%20%CE%B5%CE%B9%CE%BA%CF%8C%CE%BD%CF%89%CE%BD%20%CF%84%CE%B1%20%CE%BF%CF%80%CE%BF%CE%AF%CE%B1%20%CF%83%CF%84%CE%B7%CE%BD%20%CF%80%CE%BB%CE%B5%CE%B9%CE%BF%CE%BD%CF%8C%CF%84%CE%B7%CF%84%CE%AC%20%CF%84%CE%BF%CF%85%CF%82%20%CE%B5%CE%AF%CE%BD%CE%B1%CE%B9%0A%CE%B4%CE%B9%CE%B1%CE%B8%CE%AD%CF%83%CE%B9%CE%BC%CE%B1%20%CE%BC%CE%B5%20%CF%87%CF%81%CE%BF%CE%BD%CE%B9%CE%BA%CE%AE%20%CF%85%CF%83%CF%84%CE%AD%CF%81%CE%B7%CF%83%CE%B7%20%CE%BB%CE%AF%CE%B3%CF%89%CE%BD%20%CF%89%CF%81%CF%8E%CE%BD%20%CE%B1%CF%80%CF%8C%20%CF%84%CE%B7%CE%BD%20%E2%80%A6&source=https%3A//geographer.gr/lepse-doruphorikon-eikonon-sten-r-meso-tou-gibs-api/" title="Share on LinkedIn">LinkedIn</a>
    ❄
    <a href="https://news.ycombinator.com/submitlink?t=%CE%9B%CE%AE%CF%88%CE%B7%20%CE%B4%CE%BF%CF%81%CF%85%CF%86%CE%BF%CF%81%CE%B9%CE%BA%CF%8E%CE%BD%20%CE%B5%CE%B9%CE%BA%CF%8C%CE%BD%CF%89%CE%BD%20%CF%83%CF%84%CE%B7%CE%BD%20R%20%CE%BC%CE%AD%CF%83%CF%89%20%CF%84%CE%BF%CF%85%20GIBS%20API&u=https%3A//geographer.gr/lepse-doruphorikon-eikonon-sten-r-meso-tou-gibs-api/" title="Share on HackerNews">HackerNews</a>
    ❄
    <a href="mailto:?subject=%CE%9B%CE%AE%CF%88%CE%B7%20%CE%B4%CE%BF%CF%81%CF%85%CF%86%CE%BF%CF%81%CE%B9%CE%BA%CF%8E%CE%BD%20%CE%B5%CE%B9%CE%BA%CF%8C%CE%BD%CF%89%CE%BD%20%CF%83%CF%84%CE%B7%CE%BD%20R%20%CE%BC%CE%AD%CF%83%CF%89%20%CF%84%CE%BF%CF%85%20GIBS%20API&amp;body=https%3A//geographer.gr/lepse-doruphorikon-eikonon-sten-r-meso-tou-gibs-api/" title="Share via Email">Email</a>
    ❄
    <a href="https://www.reddit.com/submit?url=https%3A//geographer.gr/lepse-doruphorikon-eikonon-sten-r-meso-tou-gibs-api/&title=%CE%9B%CE%AE%CF%88%CE%B7%20%CE%B4%CE%BF%CF%81%CF%85%CF%86%CE%BF%CF%81%CE%B9%CE%BA%CF%8E%CE%BD%20%CE%B5%CE%B9%CE%BA%CF%8C%CE%BD%CF%89%CE%BD%20%CF%83%CF%84%CE%B7%CE%BD%20R%20%CE%BC%CE%AD%CF%83%CF%89%20%CF%84%CE%BF%CF%85%20GIBS%20API" title="Share via Reddit">Reddit</a>
  </p>
</section>

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://geographer.gr/lepse-doruphorikon-eikonon-sten-r-meso-tou-gibs-api/"
                       rel="bookmark"
                       title="Permalink to Λήψη δορυφορικών εικόνων στην R μέσω του GIBS API">
                        Λήψη δορυφορικών εικόνων στην R μέσω του GIBS API
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2017-11-19T10:20:00+02:00"> Κυρ 19 Νοεμβρίου 2017</time>
    </span>



        <span class="label label-default">Category</span>
        <a href="https://geographer.gr/category/gis.html">GIS</a>


<span class="label label-default">Tags</span>
	<a href="https://geographer.gr/tag/api.html">API</a>
        /
	<a href="https://geographer.gr/tag/gdal.html">gdal</a>
        /
	<a href="https://geographer.gr/tag/gdalutils.html">gdalUtils</a>
        /
	<a href="https://geographer.gr/tag/gibs.html">GIBS</a>
        /
	<a href="https://geographer.gr/tag/r.html">R</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Η υπηρεσία <a href="https://wiki.earthdata.nasa.gov/display/GIBS/Global+Imagery+Browse+Services+-+GIBS">Global
Imagery Browse Services (GIBS)</a> του παρατηρητηρίου <a href="https://earthdata.nasa.gov/">Earth Observing System Data and
Information System (EOSDIS)</a> παρέχει δορυφορικές εικόνες πλήρους
ανάλυσης σε παγκόσμιο επίπεδο. Η υπηρεσία παρέχει πρόσβαση σε 600 και
πλέον προϊόντα δορυφορικών εικόνων τα οποία στην πλειονότητά τους είναι
διαθέσιμα με χρονική υστέρηση λίγων ωρών από την διέλευση του δορυφόρου.
Η οπτικοποίηση των δεδομένων αυτών υποστηρίζεται από σχετική διαδικτυακή
εφαρμογή <a href="https://worldview.earthdata.nasa.gov/">WorldView</a>αλλά και μέσω
υπηρεσιών (πρωτόκολλα OGC Web Map Tile Service (WMTS)/Tiled Web Map
Service (TWMS)) που επιτρέπουν την ενσωμάτωσή του σε τρίτες εφαρμογές.
Επιπλέον μια από της πλέον χρήσιμες λειτουργίες της υπηρεσίας GIBS είναι
δυνατότητα εκτέλεσης σεναρίου εντολών μέσω της βιβλιοθήκης <a href="http://www.gdal.org/">Geospatial Data Abstraction Library
(GDAL)</a>. Αυτή η δυνατότητα παρέχει στον χρήση την ευκολία να
αυτοματοποιήσει την λήψη δεδομένων (π.χ. μαζική λήψη δεδομένων, αυτόματη
περιοδική λήψη, λήψη δεδομένων υπό συγκεκριμένες συνθήκες κτλ.).</p>
<p>Στην τρέχουσα ανάρτηση παρουσιάζεται ένα σενάριο λήψης δεδομένων από
την πλατφόρμα GIBS με την γλώσσα προγραμματισμού R. Στόχος είναι να
δημιουργηθεί ένα σενάριο εντολών όπου ο χρήστης θα παρέχει στο script
πληροφορίες για το προϊόν και το script θα λαμβάνει τις σχετικές
δορυφορικές εικόνες.</p>
<p>Οι πληροφορίες αυτές αφορούν το όνομα του προϊόντος, το προβολικό του
σύστημα, την ημερομηνία λήψης και την περιοχή μελέτης που ενδιαφέρει τον
χρήστη. Οι πληροφορίες για κάθε προϊόν (ονομασία, επίπεδα εστίασης,
προβολικό σύστημα) είναι διαθέσιμες στην σχετική ενότητα της <a href="https://wiki.earthdata.nasa.gov/display/GIBS/GIBS+Available+Imagery+Products">υπηρεσίας</a>.
Στην συνέχεια θα αυτοματοποιήσουμε την λήψη μιας σειράς εικόνων VIIRS
για ένα συγκεκριμένο χρονικό διάστημα.</p>
<p>Το σενάριο R απαιτεί το πακέτο <a href="https://cran.r-project.org/web/packages/gdalUtils/index.html">gdalUtils</a>,
ένα πακέτο “περιτυλίγµατος” (wrapper) για την βιβλιοθήκη GDAL, το οποίο
φορτώνουμε στο περιβάλλον εργασίας της R:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a aria-hidden="true" href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(gdalUtils)</span></code></pre></div>
<p>Ακολουθεί η συνάρτηση (function) που πραγματοποιεί την λήψη των
δορυφορικών εικόνων. Δέχεται ως παραμέτρους την ημερομηνία λήψης του
προϊόντος (αν δεν οριστεί από τον χρήστη ορίζεται ως προκαθορισμένη η
τρέχουσα), το όνομα του προϊόντος, τον κωδικό προβολικού συστήματος κατά
EPSG, τον κατάλογο που θέλουμε να αποθηκεύσουμε τα δεδομένα
(προκαθορισμένος ο $HOME/gibs_downloads) και την γεωγραφική έκταση
(extent) της περιοχής ενδιαφέροντος.</p>
<p>Το σενάριο χρησιμοποιεί την υπηρεσία Tiled Web Map Service μέσω της
συνάρτησης gdal_translate του πακέτου gdalUtils. Ανάλογα με τις
πληροφορίες που παρέχει ο χρήστης δημιουργεί δυναμικά ένα προσωρινό
αρχείο XML το οποίο μεταβιβάζει σαν παράμετρο στην συνάρτηση <a href="http://www.gdal.org/gdal_translate.html">gdal_translate</a>.
Επιστρέφει την διαδρομή της ληφθείσας εικόνας στο τοπικό σύστημα αρχείων
του χρήστη.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a aria-hidden="true" href="#cb2-1" tabindex="-1"></a>rGIBS<span class="ot">&lt;-</span><span class="cf">function</span>(<span class="at">date=</span><span class="fu">Sys.Date</span>(), EPSGCODE,PRODUCT,projwin, <span class="at">outputdir=</span><span class="fu">file.path</span>(<span class="fu">Sys.getenv</span>(<span class="st">"HOME"</span>),<span class="st">"gibs_downloads"</span>),...){</span>
<span id="cb2-2"><a aria-hidden="true" href="#cb2-2" tabindex="-1"></a>  <span class="fu">dir.create</span>(outputdir, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-3"><a aria-hidden="true" href="#cb2-3" tabindex="-1"></a>  <span class="fu">setwd</span>(outputdir)</span>
<span id="cb2-4"><a aria-hidden="true" href="#cb2-4" tabindex="-1"></a>  <span class="co">#generate xml</span></span>
<span id="cb2-5"><a aria-hidden="true" href="#cb2-5" tabindex="-1"></a>  makeXML <span class="ot">&lt;-</span> <span class="cf">function</span>(date, EPSGCODE,PRODUCT){</span>
<span id="cb2-6"><a aria-hidden="true" href="#cb2-6" tabindex="-1"></a>    myxml<span class="ot">&lt;-</span> <span class="fu">sprintf</span>(<span class="st">'https://gibs.earthdata.nasa.gov/twms/epsg%s/best/twms.cgi?%s tileset%s'</span>,EPSGCODE, PRODUCT, date)</span>
<span id="cb2-7"><a aria-hidden="true" href="#cb2-7" tabindex="-1"></a>    tmp <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext=</span><span class="st">".xml"</span>)</span>
<span id="cb2-8"><a aria-hidden="true" href="#cb2-8" tabindex="-1"></a>    fileConn<span class="ot">&lt;-</span><span class="fu">file</span>(tmp)</span>
<span id="cb2-9"><a aria-hidden="true" href="#cb2-9" tabindex="-1"></a>    <span class="fu">writeLines</span>(myxml, fileConn)</span>
<span id="cb2-10"><a aria-hidden="true" href="#cb2-10" tabindex="-1"></a>    <span class="fu">close</span>(fileConn)</span>
<span id="cb2-11"><a aria-hidden="true" href="#cb2-11" tabindex="-1"></a>    <span class="fu">return</span>(tmp)</span>
<span id="cb2-12"><a aria-hidden="true" href="#cb2-12" tabindex="-1"></a>  }</span>
<span id="cb2-13"><a aria-hidden="true" href="#cb2-13" tabindex="-1"></a> </span>
<span id="cb2-14"><a aria-hidden="true" href="#cb2-14" tabindex="-1"></a>  infile<span class="ot">&lt;-</span><span class="fu">makeXML</span>(date,EPSGCODE,PRODUCT)</span>
<span id="cb2-15"><a aria-hidden="true" href="#cb2-15" tabindex="-1"></a>  outfile<span class="ot">&lt;-</span><span class="fu">gsub</span>(<span class="st">" "</span>,<span class="st">"_"</span>,(<span class="fu">sprintf</span>(<span class="st">'%s_%s_EPSG%s.tif'</span>,PRODUCT,date,EPSGCODE)))</span>
<span id="cb2-16"><a aria-hidden="true" href="#cb2-16" tabindex="-1"></a> </span>
<span id="cb2-17"><a aria-hidden="true" href="#cb2-17" tabindex="-1"></a> </span>
<span id="cb2-18"><a aria-hidden="true" href="#cb2-18" tabindex="-1"></a>  <span class="fu">gdal_translate</span>(</span>
<span id="cb2-19"><a aria-hidden="true" href="#cb2-19" tabindex="-1"></a>    infile,</span>
<span id="cb2-20"><a aria-hidden="true" href="#cb2-20" tabindex="-1"></a>    outfile,</span>
<span id="cb2-21"><a aria-hidden="true" href="#cb2-21" tabindex="-1"></a>    <span class="at">projwin=</span>projwin,</span>
<span id="cb2-22"><a aria-hidden="true" href="#cb2-22" tabindex="-1"></a>    <span class="at">verbose =</span> T,</span>
<span id="cb2-23"><a aria-hidden="true" href="#cb2-23" tabindex="-1"></a>    ...</span>
<span id="cb2-24"><a aria-hidden="true" href="#cb2-24" tabindex="-1"></a>  )</span>
<span id="cb2-25"><a aria-hidden="true" href="#cb2-25" tabindex="-1"></a> </span>
<span id="cb2-26"><a aria-hidden="true" href="#cb2-26" tabindex="-1"></a> <span class="co">#delete temp file</span></span>
<span id="cb2-27"><a aria-hidden="true" href="#cb2-27" tabindex="-1"></a>  <span class="fu">unlink</span>(infile)</span>
<span id="cb2-28"><a aria-hidden="true" href="#cb2-28" tabindex="-1"></a>  <span class="fu">message</span>(<span class="fu">sprintf</span>(<span class="st">"Image %s was saved in %s"</span>, outfile, outputdir))</span>
<span id="cb2-29"><a aria-hidden="true" href="#cb2-29" tabindex="-1"></a>  <span class="fu">return</span> (<span class="fu">file.path</span>(outputdir,outfile))</span>
<span id="cb2-30"><a aria-hidden="true" href="#cb2-30" tabindex="-1"></a> </span>
<span id="cb2-31"><a aria-hidden="true" href="#cb2-31" tabindex="-1"></a>}</span>
<span id="cb2-32"><a aria-hidden="true" href="#cb2-32" tabindex="-1"></a></span></code></pre></div>
<p>Έστω ότι στόχος είναι η λήψη της εικόνας του προϊόντος VIIRS
DayNightBand για την 15η Αυγούστου του 2017 για την Ελλάδα. Ο χρήστης
καλείται να παρέχει της πληροφορίες αυτές στην συνάρτηση rGIBS. Τις
πληροφορίες αυτές θα τις ορίσουμε με την μορφή μεταβλητών:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a aria-hidden="true" href="#cb3-1" tabindex="-1"></a>PRODUCT<span class="ot">&lt;-</span><span class="st">'VIIRS SNPP DayNightBand ENCC'</span> <span class="co"># όνομα προϊόντος</span></span>
<span id="cb3-2"><a aria-hidden="true" href="#cb3-2" tabindex="-1"></a>EPSGCODE<span class="ot">&lt;-</span><span class="dv">4326</span> <span class="co">#  EPSG κωδικός</span></span>
<span id="cb3-3"><a aria-hidden="true" href="#cb3-3" tabindex="-1"></a>date<span class="ot">&lt;-</span><span class="st">'2017-08-15'</span> <span class="co"># ημερομηνία λήψης</span></span>
<span id="cb3-4"><a aria-hidden="true" href="#cb3-4" tabindex="-1"></a>projwin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">19.07</span>, <span class="fl">42.16</span>, <span class="fl">28.39</span>, <span class="fl">34.5</span>) <span class="co"># γεωγραφική έκταση (extent) της περιοχής μελέτης</span></span></code></pre></div>
<p>Στην συνέχεια θα καλέσουμε την συνάρτηση rGIBS και θα προσαρτήσουμε
την επιστραφείσα τιμή στην μεταβλητή image</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a aria-hidden="true" href="#cb4-1" tabindex="-1"></a>image<span class="ot">&lt;-</span><span class="fu">rGIBS</span>(<span class="at">date=</span>date,<span class="at">EPSGCODE=</span>EPSGCODE,<span class="at">PRODUCT=</span>PRODUCT, <span class="at">projwin=</span>projwin, <span class="at">of =</span> <span class="st">"GTiff"</span>)</span></code></pre></div>
<p>Η μεταβλητή image περιέχει την διαδρομή της εικόνας που μεταφορτώθηκε
και μπορεί να χρησιμοποιηθεί σε άλλες συναρτήσεις. Ας οπτικοποιήσουμε
την εικόνα VIIRS που λάβαμε.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a aria-hidden="true" href="#cb5-1" tabindex="-1"></a><span class="fu">plotRGB</span>(<span class="fu">stack</span>(image))</span></code></pre></div>
<p><img src="https://geographer.gr/images/Rplot_Nighttime_Imagery-286x300.png"/></p>
<p>Όπως προαναφέρθηκε στόχος του σεναρίου είναι η μαζική λήψη εικόνων
ενός χρονικού διαστήματος σε ημερήσια βάση. Ας δημιουργήσουμε μια λίστα
με τις ημερομηνίες ανά ημέρα για το διάστημα 01/08/2017 ως 05/08/2017. Η
λίστα δεν είναι απαραίτητο να περιλαμβάνει διαδοχικές ημερομηνίες.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a aria-hidden="true" href="#cb6-1" tabindex="-1"></a>dates<span class="ot">&lt;-</span><span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2017/08/01"</span>), <span class="fu">as.Date</span>(<span class="st">"2017/08/05"</span>), <span class="st">"days"</span>)</span></code></pre></div>
<p>Μπορούμε για κάθε στοιχείο της λίστας (κάθε ημερομηνία) να
κατεβάσουμε την σχετική δορυφορική εικόνα VIIRS μέσω της συνάρτησης
lapply:</p>
<pre><code>myresults&lt;-lapply(
dates,
rGIBS,
EPSGCODE=EPSGCODE,
PRODUCT=PRODUCT,
projwin=projwin,
of = "GTiff"
)</code></pre>
<p>Η μεταβλητή <em>myresults</em> είναι λίστα η οποία περιλαμβάνει τις
διαδρομές των αρχείων που μεταφορτώθηκαν ανά ημέρα.</p>
<p>Υποσημειώσεις: 1. Ο κώδικας της ανάρτησης είναι διαθέσιμος σε <a href="https://gist.github.com/kokkytos/59421f6b62df85fecba05a0ffd0cfba1">github
gist</a>. 2. Το script έχει δοκιμαστεί επιτυχώς με GDAL 2.2.1. Έχει
αποτύχει με GDAL 2.1.2 3. Δεν έχει δοκιμαστεί η λήψη άλλων
προϊόντων.</p>
            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'geographer'; // required: replace example with your forum shortname

            var disqus_config = function () {
                this.language = "en";

                        this.page.identifier = '2017-11-19-lepse-doruphorikon-eikonon-sten-r-meso-tou-gibs-api';
                        this.page.url = 'https://geographer.gr/lepse-doruphorikon-eikonon-sten-r-meso-tou-gibs-api/';
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Social -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
  <ul class="list-group" id="social">
    <li class="list-group-item"><a href="https://www.linkedin.com/in/leonidasliakos"><i class="fa fa-linkedin-square fa-lg"></i> Linkedin</a></li>
    <li class="list-group-item"><a href="https://twitter.com/leonidasliakos"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
    <li class="list-group-item"><a href="https://github.com/kokkytos"><i class="fa fa-github-square fa-lg"></i> Github</a></li>
  </ul>
</li>
<!-- End Sidebar/Social -->

<!-- Sidebar/Categories -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4>
  <ul class="list-group" id="categories">
    <li class="list-group-item">
      <a href="https://geographer.gr/category/demosieuseis.html"><i class="fa fa-folder-open fa-lg"></i>Δημοσιεύσεις</a>
    </li>
    <li class="list-group-item">
      <a href="https://geographer.gr/category/gis.html"><i class="fa fa-folder-open fa-lg"></i>GIS</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Categories -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="https://esdac.jrc.ec.europa.eu/" target="_blank">European Soil Data Centre</a>
    </li>
    <li class="list-group-item">
      <a href="https://gislab.gr/" target="_blank">GISlab</a>
    </li>
    <li class="list-group-item">
      <a href="https://geographers.gr/" target="_blank">Ε.ΓΕΩ</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<!-- End Content Container -->

<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2023 Leonidas Liakos
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://geographer.gr/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://geographer.gr/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://geographer.gr/theme/js/respond.min.js"></script>


<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


    <script src="https://geographer.gr/theme/js/bodypadding.js"></script>
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'geographer'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->


</body>
</html>